<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>Pant</title>
  <link rel="stylesheet" href="css/main.css" media="screen" title="no title" charset="utf-8">
  <script src="js/jquery.min.js" charset="utf-8"></script>
</head>

<body>
  <script src="./bower_components/caman/dist/caman.min.js" charset="utf-8"></script>
  <script src="js/three.js" charset="utf-8"></script>
  <script src="js/OrbitControls.js" charset="utf-8"></script>
  <script src="js/OBJLoader.js" charset="utf-8"></script>
  <script type="text/javascript">

  var scene, camera, renderer, width, height, light, loader, material, mesh;

  init();
  animate();

  function init() {
    scene = new THREE.Scene();
    width = window.innerWidth;
    height = window.innerHeight;

    renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
    renderer.setSize(width, height);
    document.body.appendChild(renderer.domElement);
    renderer.setClearColor(0x456369, 1);
    renderer.recieveShadow = true;

    camera = new THREE.PerspectiveCamera(75, width / height, 0.1, 10000);
    camera.position.set(1, 1, 1);
    scene.add(camera);

    var controls = new THREE.OrbitControls(camera, renderer.domElement);
    controls.enableZoom = false;

    window.addEventListener('resize', function() {
      renderer.setSize(width, height);
      camera.aspect = width / height;
      camera.updateProjectionMatrix();
    });

    amblight = new THREE.AmbientLight(0xffffff);
    scene.add(amblight);

    dirlight = new THREE.DirectionalLight(0xffffff, 0.5);
    dirlight.shadowCameraNear = 1;
    dirlight.shadowCameraFar = 150;
    dirlight.castshadow = true;

    var spotLight = new THREE.SpotLight(0xffffff);
    spotLight.position.set(1000, 1000, 1000);
    spotLight.castShadow = true;
    camera.add(spotLight);

    loader = new THREE.JSONLoader();
    loader.load('js/trouser.json', function(geometry) {
      var texture = THREE.ImageUtils.loadTexture("img/pant.jpg");
      texture.wrapS = THREE.RepeatWrapping;
      texture.wrapT = THREE.RepeatWrapping;
      material = new THREE.MeshBasicMaterial({ map: texture });
      mesh = new THREE.Mesh(geometry, material);
      var model = new THREE.Object3D();
      model.add(mesh);
      model.scale.set(1, 1, 1);
      model.position.set(10, -20, -55);
      scene.add(model);
      // var outlineMaterial1 = new THREE.MeshBasicMaterial( { color: 0xff0000, side: THREE.DoubleSide } );
    	// var outlineMesh1 = new THREE.Mesh( geometry, outlineMaterial1 );
    	// outlineMesh1.position = mesh.position;
    	// scene.add( outlineMesh1 );
    });
  }

  function animate() {
    requestAnimationFrame(animate);
    //mesh.rotation.z += 0.01;
    renderer.render(scene, camera);
  }

  </script>
</body>
</html>
